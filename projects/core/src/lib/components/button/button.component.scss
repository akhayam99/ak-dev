$roles: primary, secondary;
$sizes: small, medium, large;
$variants: filled, outlined;

:host {
  border-radius: var(--ak-size-xxxs);;
  cursor: pointer;
  position: relative;

  &:focus-visible {
    outline: 2px solid var(--ak-color-primary-500);
    outline-offset: 2px;
  }

  @each $variant in $variants {
    &[variant=#{$variant}] {
      @if $variant == filled {
        @each $role in $roles {
          &[role=#{$role}] {
            border: 1px solid var(--ak-color-#{$role}-500);
            background-color: var(--ak-color-#{$role}-500);
            color: var(--ak-color-#{$role}-500-contrast);

            &:hover:not(.is-disabled) {
              border: 1px solid var(--ak-color-#{$role}-450);
              background-color: var(--ak-color-#{$role}-450);
              color: var(--ak-color-#{$role}-450-contrast);
            }

            &:active:not(.is-disabled) {
              border: 1px solid var(--ak-color-#{$role}-550);
              background-color: var(--ak-color-#{$role}-550);
              color: var(--ak-color-#{$role}-550-contrast);
            }
          }
        }
      }
      @else if $variant == outlined {
        @each $role in $roles {
          &[role=#{$role}] {
            border: 1px solid var(--ak-color-#{$role}-500);
            background-color: var(--ak-color-#{$role}-500-contrast);
            color: var(--ak-color-#{$role}-500);

            &:hover:not(.is-disabled) {
              background-color: var(--ak-color-#{$role}-50);
              color: var(--ak-color-#{$role}-50-contrast);
            }

            &:active:not(.is-disabled) {
              background-color: var(--ak-color-#{$role}-100);
              color: var(--ak-color-#{$role}-100-contrast);
            }
          }
        }
      }
    }
  }

  @each $size in $sizes {
    &[size=#{$size}] {
      @if $size == small {
        max-height: 1.875rem;
        min-height: 1.875rem;
        padding: 0 var(--ak-size-sm);
      }
      @if $size == medium {
        max-height: 2.25rem;
        min-height: 2.25rem;
        padding: 0 var(--ak-size-sm);
      }
      @else if $size == large {
        max-height: 2.25rem;
        min-height: 2.25rem;
        padding: 0 var(--ak-size-sm);
      }
    }
  }

  &.is-loading span {
    visibility: hidden;
  }

  .spinner-container {
    position: absolute;
    width: 100%;
    margin-left: calc(var(--ak-size-sm) * -1);
  }

  &.is-disabled {
    cursor: not-allowed;
    opacity: 0.5;
  }

}
